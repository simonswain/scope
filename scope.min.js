/*! scope 2014-06-03 */
(function(){var a=function(a){var b=this;void 0===typeof a&&(a={});var c={el:a.el,period:a.period||1e3,points:a.points||!1,style:a.style||"bar",background:a.background||"#111111",values:a.values||"#00ffff",labels:a.labels||!1,grid:a.grid||!1},d=function(){var a=document.querySelector(c.el);b.width=a.offsetWidth,b.height=a.offsetHeight;var d=document.createElement("canvas");d.setAttribute("width",b.width),d.setAttribute("height",b.height),a.appendChild(d),b.ctx=d.getContext("2d")},e=function(){b.latch=0,b.points=c.points?c.points:b.width,b.data=[];for(var a=0;a<b.points;a++)b.data[a]=null;b.time=(new Date).getTime(),b.next=0,b.active=!0},f=function(){var a,d,e,g,h,i=b.data,j=1/0,k=-1/0;for(a=0;a<b.points;a++)i[a]>k&&(k=i[a]),i[a]<j&&(j=i[a]);var l=b.width/b.points,m=b.height/(k-j);if(0===k-j&&(m=1),b.ctx.clearRect(0,0,b.width,b.height),b.ctx.fillStyle=c.background,b.ctx.fillRect(0,0,b.width,b.height),"line"===c.style){var n=0;for(a=0;a<b.points;a++)if(null!==i[a]){g=a*l,h=b.height-(i[a]-j)*m,b.ctx.beginPath(),b.ctx.moveTo(g,h),n=a;break}for(a=n;a<b.points;a++)null!==i[a]&&(d=a*l,e=b.height-(i[a]-j)*m,b.ctx.lineTo(d,e));b.ctx.strokeWidth=1,b.ctx.strokeStyle=c.values,b.ctx.stroke()}if("bar"===c.style)for(b.ctx.fillStyle=c.values,a=0;a<b.points;a++)null!==i[a]&&(d=a*l,e=b.height-(i[a]-j)*m,b.ctx.fillRect(d,e,l,b.height-e));b.active&&window.requestAnimationFrame(f)},g=function(){if((new Date).getTime()>b.next){for(b.data.push(b.latch);b.data.length>b.points;)b.data.shift();b.latch=null,b.next=b.time+c.period}b.active&&setTimeout(g,c.period)};return this.set=function(a){return"object"==typeof a&&"undefined"!=typeof a.length?(b.data=a,b.active=!1,f(),void 0):(a=Number(a),isNaN(a)||(b.latch=Number(a)),void 0)},this.count=function(a){a=Number(a),isNaN(a)||(b.latch=b.latch+Number(a))},d(),e(),g(),f(),this};window.Scope=a}).call(this),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();